<!doctype html>
    <head>
        <meta charset="utf-8">
        <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> -->
        <title>iNews - Local News for You</title>
        <!-- <meta name="description" content=""> -->
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
      <link rel="stylesheet" href="lib/angular-material/angular-material.css">
      <link rel='stylesheet' type='text/css' href='css/main.css'>
      <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link href="https://fonts.googleapis.com/css?family=Bitter:700" rel="stylesheet">
        <!-- <link rel="apple-touch-icon" href="apple-touch-icon.png"> -->
    </head>
    <body ng-app='inews' ng-controller="navController" ng-cloak>
      <base href="/">
      <div class='navbar' style="border-bottom: 1px solid #dcdcdc; height: 5em;">
        <img class='logo' src='/assets/worldwide-location-24.jpg'></img>
        <span style="font-size: 2em; line-height: 2.5em; font-weight: 700; font-family: 'Bitter', serif;">iNews</span>
        <div class='loginbox' style="position: relative; top: 1em;">
        <md-button style="background-image: url(http://comparegang.com/wp-content/uploads/2016/09/Meetup_Logo_2015-300x204.png); background-size: contain; background-repeat: no-repeat; padding-left: 4em;" ng-hide='isAuth()' ng-click="meetupshow($event)" class="md-raised">
          Sign In With Meetup
        </md-button>
        <md-button ng-hide='isAuth()' ng-click="signinshow($event)" class="md-raised">
          Sign In
        </md-button>
        <md-button ng-hide='isAuth()' ng-click="signupshow($event)" class="md-raised">
          Sign Up
        </md-button>
        <md-button ng-show='isAuth()' ng-click="logout()" class="md-raised">
          Sign Out
        </md-button>
      </div>
        <p>{{error}}</p>
      </div>

      <div style="padding-left: 1em; padding-right: 1em; border-bottom: 1px solid #dcdcdc; font-family: Roboto, 'Helvetica Neue', sans-serif; min-height: 2em; padding-top: 1em; font-size: 1.4em; line-height: 2em">
        <span class="news-topic">News Topic 1 <i class="fa fa-times-circle" aria-hidden="true" style="cursor: pointer"></i></span>
        <span class="news-topic">News Topic 1 <i class="fa fa-times-circle" aria-hidden="true" style="cursor: pointer"></i></span>
        <span class="news-topic">News Topic 1 <i class="fa fa-times-circle" aria-hidden="true" style="cursor: pointer"></i></span>
        <span class="news-topic">News Topic 2 <i class="fa fa-times-circle" aria-hidden="true" style="cursor: pointer"></i></span>
        <md-input-container class="md-block" style="vertical-align: top; height: 2em; font-size: 0.8em; display: inline-block; margin-top: 0.4em;">
          <label class="placeholder" style="line-height:1.1em;">Add Topic...</label>
          <input id="new-topic"></input>
          <i class="fa fa-check-circle" style="display: flex; line-height: 1.4em; cursor: pointer;" aria-hidden="true" style="cursor: pointer"></i>
        </md-input-container>
      </div>
      <div layout='row' layout-xs="column" layout-margin ng-controller='localNewsController' id='LocalNews'>
        <div flex>
          <div layout="row" layout-sm="column" layout-align="space-around" ng-show='isLocNewsLoading'>
            <md-progress-circular class="md-hue-2" md-diameter="100px" style="left: 49%; position: absolute; top: 49%;"></md-progress-circular>
          </div>

          <div class="news-container">
            <div class="news-header">
              <span class="news-title">Local News</span>
              <md-button class="news-button" ng-click='loadMore1()' aria-label="Show more or less"><i class="fa fa-chevron-circle-down" aria-hidden="true"></i></md-button>
              <md-button class="news-button" aria-label="Settings"><i class="fa fa-cogs" aria-hidden="true"></i></md-button>
            </div>
            <md-card class="md-padding" ng-repeat='news in localnews | limitTo:lim1' ng-show='!isLocNewsLoading' md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" md-theme-watch>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">{{news.name}}</span>
                  <span class="md-subhead">{{news.description}}</span>
                </md-card-title-text>
                <md-card-title-media>
                  <div class="md-media-lg card-media" style="background-image:url({{news.image.thumbnail.contentUrl}})"></div>
                </md-card-title-media>
              </md-card-title>
              <md-card-actions style="justify-content: space-between;" layout="row" layout-align="end center">
                <md-button ng-disabled="true" style="float:left;" aria-label="date">{{news.datePublished | date:'HH:mm, MMM dd'}}</md-button>
                <a href="{{news.url}}" target="_blank" style="color:inherit; text-decoration:none; margin-right:0.3em;"><md-button>Read Article</md-button></a>
              </md-card-actions>
            </md-card>
          </div>

          <div style="border: 1px solid #dcdcdc; margin-top: 1em;">
            <div style="background-color:#EA8644; display: block; line-height: 3em;">
              <span style="margin-left: 1em; color: white; font-weight: 900;">Weather</span>
              <md-button style="position: relative; width: 2em; float:right; color: white;" ng-click='loadMore1()' aria-label="Show more or less"><i class="fa fa-chevron-circle-down" aria-hidden="true"></i></md-button>
              <md-button style="position:relative; width:2em; float:right; color: white;" aria-label="Settings"><i class="fa fa-cogs" aria-hidden="true"></i></md-button>
            </div>
            <md-card class="md-padding" md-theme="{{ showDarkTheme ? 'dark-grey' : 'default' }}" md-theme-watch>
              <md-card-title>
                <md-card-title-text>
                  <span class="md-headline">{{news.name}}</span>
                  <span class="md-subhead">{{news.description}}{{ news.datePublished}}</span>
                </md-card-title-text>
                <md-card-title-media>
                  <div class="md-media-lg card-media" style="background-image:url({{news.image.thumbnail.contentUrl}})"></div>
                </md-card-title-media>
              </md-card-title>
              <md-card-actions layout="row" layout-align="end center">
                <md-button></md-button>
                <md-button>Action 2</md-button>
              </md-card-actions>
            </md-card>
          </div>

        </div>


      </div>



      <div style="visibility: hidden">
        <div class="md-dialog-container" id="signInDialog">
          <md-dialog>
            <form name="loginForm" data-ng-submit="login()">
              <md-dialog-content>
                  <div class="md-dialog-content">
                      <md-input-container class="md-block">
                          <label>Username:</label>
                          <input ng-model="user.username" required>
                      </md-input-container>

                      <md-input-container class="md-block">
                          <label>Password:</label>
                          <input ng-model="user.password" type="password" required>
                      </md-input-container>
                  </div>
              </md-dialog-content>
              <md-dialog-actions layout="row">
                  <span flex></span>
                  <md-button type="submit" class="md-primary"
                             ng-class="{'md-raised': (loginForm.$dirty && loginForm.$valid) }">
                      OK
                  </md-button>
                  <md-button type="button" ng-click="signinCancel(); $event.stopPropagation();">
                      Cancel
                  </md-button>
              </md-dialog-actions>
            </form>
          </md-dialog>
        </div>
      </div>

      <div style="visibility: hidden">
        <div class="md-dialog-container" id="signUpDialog">
          <md-dialog>
            <form name="signupForm" data-ng-submit="signup()">
              <md-dialog-content>
                  <div class="md-dialog-content">
                      <md-input-container class="md-block">
                          <label>Username:</label>
                          <input ng-model="user.username" required>
                      </md-input-container>

                      <md-input-container class="md-block">
                          <label>Password:</label>
                          <input ng-model="user.password" type="password" required>
                      </md-input-container>

                      <md-input-container class="md-block">
                          <label>Password Confirm:</label>
                          <input ng-model="user.confirm" type="password" required>
                      </md-input-container>
                  </div>
              </md-dialog-content>
              <md-dialog-actions layout="row">
                  <span flex></span>
                  <md-button type="submit" class="md-primary"
                             ng-class="{'md-raised': (signupForm.$dirty && signupForm.$valid) }">
                      OK
                  </md-button>
                  <md-button type="button" ng-click="signupCancel(); $event.stopPropagation();">
                      Cancel
                  </md-button>
              </md-dialog-actions>
            </form>
          </md-dialog>
        </div>
      </div>

      <footer>
        <p>&copy; iNews 2016</p>
      </footer>

      <script src="lib/angular/angular.js"></script>
      <script src="lib/angular-animate/angular-animate.js"></script>
      <script src="lib/angular-aria/angular-aria.js"></script>
      <script src="lib/angular-material/angular-material.js"></script>
      <script src="lib/angular-route/angular-route.js"></script>

      <script src="app/services/services.js"></script>
      <script src="app/defaultNews/defaultNews.js"></script>
      <script src="app/localNews/localNews.js"></script>
      <script src="app/customNews/customNews.js"></script>
      <script src="app/navigation/navigation.js"></script>
      <script src="app/app.js"></script>
    </body>
</html>
